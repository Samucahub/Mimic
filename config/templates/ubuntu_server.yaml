# MIMIC Ubuntu Server Template
version: 1.0
name: "Ubuntu Development Server"

description: "Template for Ubuntu-based development server with common services"

os_profile:
  name: "Ubuntu"
  version: "18.04.6 LTS"
  kernel: "4.15.0-20-generic"
  hostname: "ubuntu-dev"
  domain: "dev.internal"
  uptime: "7 days, 14:32:18"

network:
  fake_ip: "192.168.1.50"
  fake_gateway: "192.168.1.1"
  fake_dns: ["192.168.1.1", "8.8.8.8"]
  fake_hosts:
    - "192.168.1.10 - dc01.dev.internal"
    - "192.168.1.20 - fileserver.dev.internal"
    - "192.168.1.30 - monitor.dev.internal"

services:
  22:
    type: "ssh"
    banner: "SSH-2.0-OpenSSH_7.6p1 Ubuntu-4ubuntu0.3"
    users:
      admin: "Welcome123!"
      developer: "DevPass2024!"
      deploy: "Deploy@123"
    allow_password_login: true
    allow_root_login: false
    max_auth_retries: 3
    
  80:
    type: "http"
    banner: "Apache/2.4.29 (Ubuntu)"
    website_template: "development"
    fake_pages:
      - "/index.php"
      - "/admin/login.php"
      - "/api/v1/status"
      - "/config/config.php"
    response_codes:
      200: 85
      301: 5
      404: 8
      500: 2
    ssl_redirect: true
    
  443:
    type: "https"
    banner: "Apache/2.4.29 (Ubuntu) OpenSSL/1.1.1"
    ssl_cert: "self_signed"
    certificate_info:
      cn: "ubuntu-dev.dev.internal"
      issuer: "Self-Signed"
      expires: "2025-12-31"
    
  21:
    type: "ftp"
    banner: "220 ProFTPD 1.3.5 Server (Ubuntu)"
    anonymous_login: true
    users:
      ftpuser: "Ftp@12345"
      upload: "Upload_2024"
    max_clients: 10
    
  3306:
    type: "mysql"
    version: "5.7.33"
    banner: "5.7.33 MySQL Community Server (GPL)"
    databases:
      - "app_database"
      - "user_data"
      - "config_db"
      - "logs_archive"
    users:
      root: ""
      app_user: "AppDB2024!"
      readonly: "ReadOnly123"
    
  5432:
    type: "postgresql"
    version: "12.9"
    banner: "PostgreSQL 12.9 on x86_64-pc-linux-gnu"
    databases:
      - "postgres"
      - "app_data"
      - "analytics"
    
  8080:
    type: "http"
    banner: "nginx/1.18.0 (Ubuntu)"
    description: "Development web application"
    fake_pages:
      - "/"
      - "/dashboard"
      - "/api/docs"
    
  9000:
    type: "http"
    banner: "PHP 7.4.3 Development Server"
    description: "PHP built-in web server"
    response_codes:
      200: 70
      404: 25
      500: 5

filesystem:
  profile: "ubuntu_development"
  fake_files:
    /etc/passwd:
      content: |
        root:x:0:0:root:/root:/bin/bash
        daemon:x:1:1:daemon:/usr/sbin:/usr/sbin/nologin
        admin:x:1000:1000:Admin User:/home/admin:/bin/bash
        developer:x:1001:1001:Developer:/home/developer:/bin/bash
        www-data:x:33:33:www-data:/var/www:/usr/sbin/nologin
        mysql:x:107:111:MySQL Server,,,:/nonexistent:/bin/false
        postgres:x:108:115:PostgreSQL administrator,,,:/var/lib/postgresql:/bin/bash
      permissions: "644"
      
    /etc/shadow:
      content: |
        root:$6$salt$PwHash:18267:0:99999:7:::
        admin:$6$salt$AdminHash:18267:0:99999:7:::
        developer:$6$salt$DevHash:18267:0:99999:7:::
        mysql:!:18267:0:99999:7:::
        postgres:!:18267:0:99999:7:::
      permissions: "640"
      
    /home/admin/.ssh/id_rsa:
      content: |
        -----BEGIN RSA PRIVATE KEY-----
        MIIEowIBAAKCAQEArL4J7OUwG7J7K7K8L9M8N0O1P2Q3R4S5T6U7V8W9X0Y1Z2A3B4
        C5D6E7F8G9H0I1J2K3L4M5N6O7P8Q9R0S1T2U3V4W5X6Y7Z8A9B0C1D2E3F4G5H6
        I7J8K9L0M1N2O3P4Q5R6S7T8U9V0W1X2Y3Z4A5B6C7D8E9F0G1H2I3J4K5L6M7N8
        O9P0Q1R2S3T4U5V6W7X8Y9Z0A1B2C3D4E5F6G7H8I9J0K1L2M3N4O5P6Q7R8S9T0
        U1V2W3X4Y5Z6A7B8C9D0E1F2G3H4I5J6K7L8M9N0O1P2Q3R4S5T6U7V8W9X0Y1Z2
        -----END RSA PRIVATE KEY-----
      permissions: "600"
      
    /var/www/html/index.php:
      content: |
        <?php
        // Development Application
        echo "<h1>Development Portal</h1>";
        echo "<p>Welcome to the development server</p>";
        
        // Database connection test
        try {
            $conn = new mysqli('localhost', 'app_user', 'AppDB2024!', 'app_database');
            echo "<p>Database: Connected</p>";
        } catch (Exception $e) {
            echo "<p>Database: Error - " . $e->getMessage() . "</p>";
        }
        ?>
      permissions: "644"
      
    /var/log/apache2/access.log:
      content: |
        192.168.1.100 - - [15/Jan/2024:10:30:45 +0000] "GET /index.php HTTP/1.1" 200 1234
        192.168.1.101 - - [15/Jan/2024:10:31:22 +0000] "POST /login.php HTTP/1.1" 302 -
        192.168.1.102 - - [15/Jan/2024:10:32:15 +0000] "GET /admin/ HTTP/1.1" 401 567
      permissions: "644"

behavior:
  response_delay:
    min: 0.2
    max: 1.5
    random: true
    
  error_rate: "medium"
  error_types:
    - "connection_timeout"
    - "permission_denied"
    - "service_unavailable"
    
  session_limits:
    max_duration: 600
    max_commands: 100
    idle_timeout: 300
    
  human_patterns:
    typing_speed: "medium"
    mistake_frequency: "low"
    command_history: true
    work_hours:
      start: "09:00"
      end: "18:00"
      timezone: "UTC"

security:
  rate_limits:
    max_connections_per_minute: 100
    max_sessions_per_ip: 10
    command_delay_ms: 150
    
  ip_blocking:
    auto_block_failed_logins: 15
    block_duration_minutes: 120
    whitelist: []
    blacklist: []
    
  geo_block:
    - "10.0.0.0/8"
    - "192.168.0.0/16"
    
  attack_detection:
    enabled: true
    sensitivity: "medium"
    alert_on:
      - "brute_force"
      - "sql_injection"
      - "command_injection"
      - "file_access"
      - "directory_traversal"
    
  kill_switch:
    enabled: true
    trigger_on:
      - "port_scan_detected"
      - "ddos_attempt"
      - "critical_vulnerability_exploit"
    action: "block_and_alert"

logging:
  level: "INFO"
  format: "json"
  destinations:
    - file:
        path: "/var/log/mimic/ubuntu_honeypot.log"
        max_size_mb: 100
        backup_count: 10
        
    - console: true
    
    - syslog:
        enabled: true
        address: "/dev/log"
        facility: "local7"
        
  retention_days: 90
  compression: true
  
  alerts:
    email:
      enabled: false
      smtp_server: "smtp.example.com"
      recipients: ["admin@example.com"]
    
    webhook:
      enabled: false
      url: "https://hooks.example.com/mimic"
      secret: ""

dashboard:
  enabled: true
  port: 8888
  authentication:
    enabled: true
    username: "mimic_admin"
    password_hash: "$2b$12$hashed_password_here"
    session_timeout: 3600
  ssl:
    enabled: false
    cert_file: ""
    key_file: ""
  real_time_updates: true
  refresh_interval: 5

notes: |
  This template simulates a typical Ubuntu development server with multiple services.
  Adjust the credentials and IP addresses according to your environment.
  All services are emulated and do not pose actual security risks.